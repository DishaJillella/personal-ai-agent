{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 7
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "65c6d3dc-7995-4317-b5e4-13aed52c8c25",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "Prompt for the AI Agent:\n\n\"You're my assistant ‚Äî think Donna from the show Suits. You‚Äôre sharp, efficient, and never miss a detail. Your job is to prepare and send me a smart, polished daily briefing email that covers everything I need to dominate the day.\n\nCheck my Google Calendar and summarize today‚Äôs meetings or events. Prioritize anything important.\n\nGet the weather forecast via the OpenWeather API and mention if it‚Äôll affect my plans. If it‚Äôs raining, don‚Äôt sugarcoat it ‚Äî just suggest I stay in and focus.\n\nPull my task list from Google Sheets. Keep it clean, clear, and categorized if needed.\n\nFrom the code node, get my task completion score ‚Äî tell me what I nailed and what I didn‚Äôt. If I scored high, boost my ego a little. If I didn‚Äôt, be honest ‚Äî but motivating.\n\nEnd with a short, classy motivational quote or sassy productivity reminder. Think Donna meets Deepak Chopra.\n\nFormat it like a professional morning digest. Then send it through Gmail. And make sure it lands in my inbox with the confidence of someone who runs the show.\"",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        432,
        0
      ],
      "id": "64a36a3e-951f-4173-a463-93e6c8058bb7",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        220,
        220
      ],
      "id": "99e22707-2abd-44f2-b700-576e76debfe9",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "XfiTBoedXtdpIzxB",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{$workflow.id}}  // if you want session per workflow"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        340,
        220
      ],
      "id": "daf366fc-b230-451e-bd8d-38fd5fc2b957",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "disha201104@gmail.com",
          "mode": "list",
          "cachedResultName": "disha201104@gmail.com"
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        460,
        220
      ],
      "id": "9819f046-3754-4b85-ad8c-3355ffd8d586",
      "name": "Create an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "Rxox4UO0YYJu9BLi",
          "name": "Google Calendar account 2"
        }
      }
    },
    {
      "parameters": {
        "cityName": "hyderabad,in"
      },
      "type": "n8n-nodes-base.openWeatherMapTool",
      "typeVersion": 1,
      "position": [
        580,
        220
      ],
      "id": "977427b9-b848-4b41-820f-dbfa2ccf29c0",
      "name": "OpenWeatherMap",
      "credentials": {
        "openWeatherMapApi": {
          "id": "38jyRsxREc1C2ka9",
          "name": "OpenWeatherMap account 2"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0",
          "mode": "list",
          "cachedResultName": "Tasks",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        700,
        220
      ],
      "id": "970586e2-d9a5-4a89-8517-c72f1534b60d",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "BBsQzCmH1cC9oZ5c",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "disha201104@gmail.com",
        "subject": "What to do Today",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        820,
        220
      ],
      "id": "f89dc189-85d0-4a12-bc7f-3e1024fea6a5",
      "name": "Send a message in Gmail",
      "webhookId": "92e71626-c18d-4f56-8d8c-3b0772b3ac16",
      "credentials": {
        "gmailOAuth2": {
          "id": "sBiG8FxeKahOHZrS",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const rows = items;\nlet score = 0;\nlet maxScore = 0;\n\nlet completed = [];\nlet missed = [];\n\nfor (let row of rows) {\n  const task = row.json.Task;\n  const priority = row.json.Priority?.toLowerCase();\n  const done = row.json.Done?.toLowerCase();\n\n  let taskScore = 0;\n\n  if (priority === 'high') taskScore = 3;\n  else if (priority === 'medium') taskScore = 2;\n  else if (priority === 'low') taskScore = 1;\n\n  maxScore += taskScore;\n\n  if (done === 'yes') {\n    score += taskScore;\n    completed.push(`‚úîÔ∏è ${task} (${priority})`);\n  } else {\n    missed.push(`‚ùå ${task} (${priority})`);\n  }\n}\n\nconst percentage = maxScore === 0 ? 0 : Math.round((score / maxScore) * 100);\n\nconst message = `\nüéØ Your Productivity Score Today: ${score}/${maxScore} (${percentage}%)\n\n‚úÖ Completed:\n${completed.join('\\n') || 'None'}\n\n‚ùå Missed:\n${missed.join('\\n') || 'None'}\n`;\n\nreturn [{ json: { message, percentage } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        -180
      ],
      "id": "bd13370e-addc-445c-b1a1-f12001ec0b88",
      "name": "Code"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0",
          "mode": "list",
          "cachedResultName": "Tasks",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1aPsHwGej0K-myPvdxS1_0gyUCZWkAVBW-r8e6VC-3A0/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        560,
        -260
      ],
      "id": "fcd56534-7f4e-4b87-a4d7-6414922bb97e",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "BBsQzCmH1cC9oZ5c",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenWeatherMap": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9c2fa7f5-472f-4ae1-b88e-8e3685ee12ad",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "96a0ad7b6a7ccc69debf4561fdd17b534fb2d2dc5f245f8faf49da91157e6927"
  },
  "id": "2cN1NgglnHONQZJF",
  "tags": []
}
